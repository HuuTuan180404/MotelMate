<div class="notification-dialog" *ngIf="notifications.length !== 0">
  <div class="dialog-header">
    <h2>Notifications</h2>
    <div class="header-actions">
      <span class="unread-count" *ngIf="getUnreadCount() > 0">
        {{getUnreadCount()}} unread
      </span>
      <button
        class="btn-mark-all"
        *ngIf="getUnreadCount() > 0"
        (click)="markAllAsRead()"
      >
        Mark All as Read
      </button>
      <button class="btn-close" (click)="closeDialog()">
        <span class="close-icon">&times;</span>
      </button>
    </div>
  </div>

  <div class="dialog-content">
    <div class="notifications-list">
      <div
        *ngFor="let notification of notifications"
        class="notification-item"
        [class.unread]="!notification.isRead"
        (click)="markAsRead(notification)"
      >
        <div class="notification-header">
          <div class="notification-title">
            <span class="title-text">{{notification.title}}</span>
            <span class="unread-dot" *ngIf="!notification.isRead"></span>
          </div>
          <div class="notification-actions">
            <span class="notification-time">
              {{formatTimeAgo(notification.createAt)}}
            </span>
            <button
              class="btn-delete"
              (click)="deleteNotification(notification.notiID); $event.stopPropagation()"
              title="Detele"
            >
              🗑️
            </button>
          </div>
        </div>

        <div class="notification-content">{{notification.content}}</div>

        <div class="notification-footer">
          <span class="full-datetime">
            📅 {{formatDateTime(notification.createAt)}}
          </span>
        </div>
      </div>

      <div *ngIf="notifications.length === 0" class="empty-state">
        <div class="empty-icon">📭</div>
        <p>No notifications</p>
      </div>
    </div>
  </div>
</div>

<div *ngIf="notifications.length === 0" class="empty-state">
  <div class="empty-icon">📭</div>
  <p>No notifications yet</p>
</div>
