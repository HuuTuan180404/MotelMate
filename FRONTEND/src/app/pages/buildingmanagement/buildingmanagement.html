<div class="main">
  <!-- Header with Title and Search -->
  <div class="header-container">
    <h2 class="page-title">BUILDING</h2>

    <div class="search-container">
      <mat-form-field appearance="outline" class="search-field">
      <mat-label>Search</mat-label>
      <input
        matInput
        placeholder="Search..."
        [(ngModel)]="searchTerm"
        (input)="applyFilters()"
      />
      <mat-icon matSuffix>search</mat-icon>
    </mat-form-field>
    <button mat-flat-button class="btn-add" (click)="openAddForm()" matTooltip="Add Building">
      <mat-icon>add</mat-icon> Add
  </button>

    </div>
  </div>

  <!-- List of buildings -->
  <div class="buildings">
    <app-building *ngFor="let building of filteredbuilding" [building]="building"></app-building>
  </div>
</div>

<!-- Popup Add Building -->
<div class="popup-overlay" *ngIf="isAddFormVisible" (click)="cancelAdd()" >
  <div class="popup-form" (click)="$event.stopPropagation()">
    <h3>Add New Building</h3>

    <label class="form-label">
      Name of Building
      <input type="text" [(ngModel)]="newBuilding.building" placeholder="Enter Building Name"/>
    </label>

    <label class="form-label">
      Address
      <textarea [(ngModel)]="newBuilding.address" placeholder="Enter Full Address"></textarea>
    </label>

    <div class="button-group">
      <button class="btn-cancel" (click)="cancelAdd()">Cancel</button>
      <button class="btn-submit" (click)="addBuilding()">+ Add</button>
    </div>
  </div>
</div>
