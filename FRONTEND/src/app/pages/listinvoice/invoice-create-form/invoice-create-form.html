<div class="dialog-wrapper">
<form [formGroup]="invoiceForm" (ngSubmit)="save()" class="custom-dialog-container">
  <div class="dialog-header">
    <h2>Create Invoice</h2>
  </div>

  <div class="dialog-body">
    <!-- Building -->
    <mat-form-field appearance="outline" floatLabel="auto">
      <mat-label>Building</mat-label>
      <input matInput formControlName="building" />
      <mat-error *ngIf="invoiceForm.get('building')?.hasError('required') && invoiceForm.get('building')?.touched">
        Building is required
      </mat-error>
    </mat-form-field>

    <!-- Room -->
    <mat-form-field appearance="outline" floatLabel="auto">
      <mat-label>Room</mat-label>
      <input matInput type="number" formControlName="room" />
      <mat-error *ngIf="invoiceForm.get('room')?.hasError('required') && invoiceForm.get('room')?.touched">
        Room is required
      </mat-error>
    </mat-form-field>

    <!-- Month -->
    <mat-form-field appearance="outline" floatLabel="auto">
      <mat-label>Month</mat-label>
      <input matInput formControlName="month" placeholder="MM/YYYY" />
      <mat-error *ngIf="invoiceForm.get('month')?.hasError('required') && invoiceForm.get('month')?.touched">
        Month is required
      </mat-error>
    </mat-form-field>

    <!-- Due Date -->
    <mat-form-field appearance="outline" floatLabel="auto">
      <mat-label>Due Date</mat-label>
      <input matInput formControlName="due" placeholder="DD/MM/YYYY" />
      <mat-error *ngIf="invoiceForm.get('due')?.hasError('required') && invoiceForm.get('due')?.touched">
        Due Date is required
      </mat-error>
    </mat-form-field>

    <!-- Electric -->
    <mat-form-field appearance="outline" floatLabel="auto">
      <mat-label>Electric (kWh)</mat-label>
      <input matInput type="number" formControlName="electric" (input)="calculateTotal()" />
    </mat-form-field>

    <!-- Water -->
    <mat-form-field appearance="outline" floatLabel="auto">
      <mat-label>Water (mÂ³)</mat-label>
      <input matInput type="number" formControlName="water" (input)="calculateTotal()" />
    </mat-form-field>

    <!-- Total -->
    <p><strong>Total:</strong> {{ total | number }}</p>
  </div>

  <div class="button-group">
    <button class="btn-cancel" type="button" (click)="cancel()">Cancel</button>
    <button class="btn-submit" type="submit">Create</button>
  </div>
</form>
</div>